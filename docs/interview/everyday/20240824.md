# 什么是 Fiber?诞生背景是什么

## 背景

在 Fiber 之前，React 使用的协调算法有一个主要的限制，即一旦开始渲染，就必须同步完成整个组件树的渲染。这意味着 React 无法中断工作以确保主线程的响应性。对于大型应用或复杂界面更新，这可能导致主线程阻塞，从而影响到动画的流畅度、输入响应等。
为了解决这些问题，React 团队重新设计了协调算法，引入了 Fiber。

## 关键特性

1. **增量渲染**

2. **任务可中断**  
   Fiber 架构允许 React 暂停正在进行的工作，先执行更高优先级的工作，然后再回来完成之前的工作。这使得 React 可以保持应用的响应性，即使在大量更新发生时也是如此。

3. **错误处理**  
   Fiber 引入了一种新的错误边界（error boundaries）概念，这让组件能够捕获子组件树中的 JavaScript 错误，记录这些错误，并显示备用 UI。
4. **更好的优先级管理**
5. **新的生命周期**  
   为了适应 Fiber 架构，React 引入了新的生命周期方法（如 getDerivedStateFromProps），这些方法适用于新的渲染策略。
